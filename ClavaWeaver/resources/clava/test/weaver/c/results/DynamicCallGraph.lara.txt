/**** File 'dynamic_call_graph.c' ****/

#include <stdio.h>
#include <stdlib.h>
int clava_dcg_global[ 1 ] = {0};
int foo() {
   
   return 1;
}

void clava_call_graph() {
   printf("digraph dynamic_call_graph {\n\n");
   if(clava_dcg_global[0] != 0) {
      printf("	main -> foo [label=\"%d\"];\n", clava_dcg_global[0]);
   }
   printf("}\n");
}

int main() {
   atexit(clava_call_graph);
   for(int i = 0; i < 10; i += foo()) {
      clava_dcg_global[ 0 ]++;
   }
   clava_dcg_global[ 0 ]++;
   if(foo()) {
   }
   else {
      clava_dcg_global[ 0 ]++;
      if(foo()) {
      }
   }
   clava_dcg_global[ 0 ]++;
   
   return foo();
}

/**** End File ****/